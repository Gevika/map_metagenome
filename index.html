<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_54ba51d28ab372c41d885bc1f4cdfbdb {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_54ba51d28ab372c41d885bc1f4cdfbdb" ></div>
        
</body>
<script>
    
    
            var map_54ba51d28ab372c41d885bc1f4cdfbdb = L.map(
                "map_54ba51d28ab372c41d885bc1f4cdfbdb",
                {
                    center: [47.0, 2.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 3,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_e8a4f9f43661944fd377e775b2031b71 = L.tileLayer(
                "https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",
                {"attribution": "Map tiles by \u003ca target=\"_blank\" href=\"http://stamen.com\"\u003eStamen Design\u003c/a\u003e, under \u003ca target=\"_blank\" href=\"http://creativecommons.org/licenses/by/3.0\"\u003eCC BY 3.0\u003c/a\u003e. Data by \u0026copy; \u003ca target=\"_blank\" href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\"_blank\" href=\"http://creativecommons.org/licenses/by-sa/3.0\"\u003eCC BY SA\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
            var circle_marker_3187d5ad97298761bb7658799eafe82c = L.circleMarker(
                [57.02, -111.55],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_9f5988367e929871dc7c1c341e1b729d = L.popup({"maxWidth": 300});

        
            
                var html_0f1ab369883fc396c9a1af53608f89da = $(`<div id="html_0f1ab369883fc396c9a1af53608f89da" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_9f5988367e929871dc7c1c341e1b729d.setContent(html_0f1ab369883fc396c9a1af53608f89da);
            
        

        circle_marker_3187d5ad97298761bb7658799eafe82c.bindPopup(popup_9f5988367e929871dc7c1c341e1b729d)
        ;

        
    
    
            var circle_marker_129c69c5d88eb6f89e9dab1710a18882 = L.circleMarker(
                [55.45, -110.01],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_aa1776ff7859cba4a875e887ae8d0d24 = L.popup({"maxWidth": 300});

        
            
                var html_b3ce8765e623d23d5b2e952d66363e61 = $(`<div id="html_b3ce8765e623d23d5b2e952d66363e61" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_aa1776ff7859cba4a875e887ae8d0d24.setContent(html_b3ce8765e623d23d5b2e952d66363e61);
            
        

        circle_marker_129c69c5d88eb6f89e9dab1710a18882.bindPopup(popup_aa1776ff7859cba4a875e887ae8d0d24)
        ;

        
    
    
            var circle_marker_b2c477fccd4f8bb6a18c00ab04f90d62 = L.circleMarker(
                [55.4, -110.32],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_a9082d8bf3fc7c419e1c36fa6cc0d167 = L.popup({"maxWidth": 300});

        
            
                var html_dc857a3f88c80c78ca1482b003d2f709 = $(`<div id="html_dc857a3f88c80c78ca1482b003d2f709" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_a9082d8bf3fc7c419e1c36fa6cc0d167.setContent(html_dc857a3f88c80c78ca1482b003d2f709);
            
        

        circle_marker_b2c477fccd4f8bb6a18c00ab04f90d62.bindPopup(popup_a9082d8bf3fc7c419e1c36fa6cc0d167)
        ;

        
    
    
            var circle_marker_df913afd801d83661fea5d5c00e94ba2 = L.circleMarker(
                [57.02, -111.65],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_9f6df77b0aac16a479f90c9ec9362590 = L.popup({"maxWidth": 300});

        
            
                var html_8df3422d5efb6301ccfd50e2fc61a6e6 = $(`<div id="html_8df3422d5efb6301ccfd50e2fc61a6e6" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_9f6df77b0aac16a479f90c9ec9362590.setContent(html_8df3422d5efb6301ccfd50e2fc61a6e6);
            
        

        circle_marker_df913afd801d83661fea5d5c00e94ba2.bindPopup(popup_9f6df77b0aac16a479f90c9ec9362590)
        ;

        
    
    
            var circle_marker_55d87e177aa7d239e15d75d3c50169c5 = L.circleMarker(
                [56.97, -111.39],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_6077fc5456a3bf611a0d710ca68febcf = L.popup({"maxWidth": 300});

        
            
                var html_334b3a01bdda478776e8ad4831f5a37e = $(`<div id="html_334b3a01bdda478776e8ad4831f5a37e" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_6077fc5456a3bf611a0d710ca68febcf.setContent(html_334b3a01bdda478776e8ad4831f5a37e);
            
        

        circle_marker_55d87e177aa7d239e15d75d3c50169c5.bindPopup(popup_6077fc5456a3bf611a0d710ca68febcf)
        ;

        
    
    
            var circle_marker_6f16e282d5189ceb4bfd8f450a0fcf97 = L.circleMarker(
                [57.02, -111.55],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_a99d9d3ff5ff860c0d9341fe6b21165f = L.popup({"maxWidth": 300});

        
            
                var html_28d72454aba125c5be4e18be5cd4ef92 = $(`<div id="html_28d72454aba125c5be4e18be5cd4ef92" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_a99d9d3ff5ff860c0d9341fe6b21165f.setContent(html_28d72454aba125c5be4e18be5cd4ef92);
            
        

        circle_marker_6f16e282d5189ceb4bfd8f450a0fcf97.bindPopup(popup_a99d9d3ff5ff860c0d9341fe6b21165f)
        ;

        
    
    
            var circle_marker_c259f0b5f9b941585754c3b692dc3b20 = L.circleMarker(
                [56.04, -118.13],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_208515e37af10c2216f720e8f5c714b4 = L.popup({"maxWidth": 300});

        
            
                var html_4aa47f8d03e9cccb11b439b8ee476b61 = $(`<div id="html_4aa47f8d03e9cccb11b439b8ee476b61" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_208515e37af10c2216f720e8f5c714b4.setContent(html_4aa47f8d03e9cccb11b439b8ee476b61);
            
        

        circle_marker_c259f0b5f9b941585754c3b692dc3b20.bindPopup(popup_208515e37af10c2216f720e8f5c714b4)
        ;

        
    
    
            var circle_marker_58ed296419dc93ee8e73132d37e5a064 = L.circleMarker(
                [56.04, -118.13],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_adae5e9cac73eef0cbe52a51dca52cf1 = L.popup({"maxWidth": 300});

        
            
                var html_692eb41e44d5f4a1bcd3260be64fd455 = $(`<div id="html_692eb41e44d5f4a1bcd3260be64fd455" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_adae5e9cac73eef0cbe52a51dca52cf1.setContent(html_692eb41e44d5f4a1bcd3260be64fd455);
            
        

        circle_marker_58ed296419dc93ee8e73132d37e5a064.bindPopup(popup_adae5e9cac73eef0cbe52a51dca52cf1)
        ;

        
    
    
            var circle_marker_82c7790ef1243d11dd5f85b7bd8419da = L.circleMarker(
                [56.04, -118.13],
                {"bubblingMouseEvents": true, "color": "grey", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 3}
            ).addTo(map_54ba51d28ab372c41d885bc1f4cdfbdb);
        
    
        var popup_87b47168ac3662bd4732841e523dde5b = L.popup({"maxWidth": 300});

        
            
                var html_6918fd5ca889405f1277eebe7c9d5dc5 = $(`<div id="html_6918fd5ca889405f1277eebe7c9d5dc5" style="width: 100.0%; height: 100.0%;">Project name:<br><a href="https://www.ncbi.nlm.nih.gov/search/all/?term={row["archive_project"]}" target="_blank">{row["archive_project"]}</a><br>Study primary focus: {row["study_primary_focus"]}</div>`)[0];
                popup_87b47168ac3662bd4732841e523dde5b.setContent(html_6918fd5ca889405f1277eebe7c9d5dc5);
            
        

        circle_marker_82c7790ef1243d11dd5f85b7bd8419da.bindPopup(popup_87b47168ac3662bd4732841e523dde5b)
        ;

        
    
</script>
</html>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@14.7.0/distribute/nouislider.min.css">
<div id="depth-slider" style="margin-top: 50px; width: 80%; margin-left: 10%;"></div>
<p id="slider-values" style="text-align: center;"></p>
<script src="https://cdn.jsdelivr.net/npm/nouislider@14.7.0/distribute/nouislider.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const depths = ["13.5", "13.5", "10.5", "5.4", "1.3", "100.6", "200.7", "315.5", "415.5"];
        const markers = document.querySelectorAll(".leaflet-interactive");
        markers.forEach((marker, idx) => {
            marker.setAttribute('data-depth', depths[idx]);
        });
        
        // Инициализация ползунка
        var slider = document.getElementById('depth-slider');
        noUiSlider.create(slider, {
            start: [1.3, 415.5],
            connect: true,
            range: {
                'min': 1.3,
                'max': 415.5
            },
            tooltips: [true, true],
            format: {
                to: function(value) {
                    return value.toFixed(1);
                },
                from: function(value) {
                    return value;
                }
            }
        });
        
        // Обновление видимости маркеров в соответствии с значениями ползунка
        slider.noUiSlider.on('update', function (values, handle) {
            const min_val = parseFloat(values[0]);
            const max_val = parseFloat(values[1]);
            markers.forEach(marker => {
                const depth = parseFloat(marker.getAttribute('data-depth'));
                if (depth < min_val || depth > max_val) {
                    marker.style.display = 'none';
                } else {
                    marker.style.display = '';
                }
            });
            document.getElementById("slider-values").innerHTML = "Depth Range: " + values.map(val => val + "m").join(" to ");
        });
    });
</script>
